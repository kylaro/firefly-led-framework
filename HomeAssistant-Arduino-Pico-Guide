MQTT Broker Docker Container
sudo docker run -itd \
--name=mqtt \
--restart=always \
--net=host \
-v /home/cj/ha/mosquitto/config:/mosquitto/config \
-v /home/cj/ha/mosquitto/data:/mosquitto/data \
-v /home/cj/ha/mosquitto/log:/mosquitto/log \
eclipse-mosquitto

Home Assistant Docker Container
docker run -d \
  --name homeassistant \
  --privileged \
  --restart=unless-stopped \
  -e TZ=Asia/Manila \
  -v /home/cj/ha:/config \
  -v /run/dbus:/run/dbus:ro \
  --network=host \
  ghcr.io/home-assistant/home-assistant:stable

Arduino Pico-W sample code
git@github.com:daniloc/PicoW_HomeAssistant_Starter.git

How to
1. Set up the MQTT broker docker
   a. Error! When Adding user name and password, the docker image restarts always
2. Test the MQTT broker
   a. Can use the Linux terminal as mosquitto-client
   b. Subscribe to a topic
   c. Test publish to a topic
3. Set up the Home Assistant docker
   a. Add MQTT in the integration section
   b. Supply the configuration and credentials required for the MQTT broker
4. Download the Arduino Pico-W project
   a. Configure the Credentials.h and supply the credentials of the MQTT broker
   b. Load the project to the pico-w board

Supposedly, the Pico-W board will automatically be added to the Home Assistant dashboard!

How?
- Initially there is no device configuration in the MQTT broker
- When the Pico-W fired up, it automagically enrolled a device in the MQTT broker
- On the Home Assistant side, since it has the MQTT integration and the credentials of the MQTT broker,
  it sees the updated device list in the MQTT broker and subsequently displays it in Home Assistant dashboard

How?
- The firmware has
 - network integration (basically wifi config)
 - home assistant integration (mqtt and home assistant)
 - endless loop (waits for state change)

What is home assistant integration?
- Device - It contains here the name of the device and version number
- Mqtt - Mqtt configuration
- Switch - Entity

State change is monitored by a PubSub class?

